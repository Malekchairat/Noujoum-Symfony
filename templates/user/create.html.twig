{% extends 'backoffice.html.twig' %}

{% block title %}Inscription | Noujoum{% endblock %}

{% block head %}
<!-- Font & Icon Links -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
    body {
        font-family: 'Poppins', sans-serif;
        background-color: #000;
        background-image: url('/images/stars-bg.svg');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        color: #fff;
    }

    .form-container {
        max-width: 700px;
        margin: 60px auto;
        padding: 40px;
        border-radius: 16px;
        background-color: rgba(30, 30, 30, 0.95);
        border: 2px solid #d4af37;
        box-shadow: 0 6px 20px rgba(212, 175, 55, 0.2);
        transition: transform 0.3s ease-in-out;
        position: relative;
    }

    .form-container:hover {
        transform: translateY(-10px);
        box-shadow: 0 12px 30px rgba(212, 175, 55, 0.3);
    }

    .form-header {
        text-align: center;
        margin-bottom: 30px;
        color: #FFD700;
        font-weight: 600;
        font-size: 30px;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-group label {
        font-size: 18px;
        color: #f0f0f0;
        margin-bottom: 10px;
        font-weight: bold;
    }

    .form-input {
        width: 100%;
        padding: 12px;
        font-size: 16px;
        border-radius: 8px;
        border: 1px solid #555;
        background-color: #1e1e1e;
        color: #fff;
    }

    .form-input::placeholder {
        color: #aaa;
    }

    .form-input:focus {
        border-color: #FFD700;
        box-shadow: 0 0 10px rgba(255, 215, 0, 0.4);
        outline: none;
    }

    .form-errors {
        color: #f44336;
        font-size: 14px;
    }

    .form-button {
        padding: 12px 30px;
        font-size: 16px;
        background: linear-gradient(to right, #FFD700, #e6c200);
        color: #000;
        border: none;
        border-radius: 30px;
        font-weight: bold;
        cursor: pointer;
        transition: 0.3s ease;
    }

    .form-button:hover {
        background: linear-gradient(to right, #e6c200, #FFD700);
        transform: scale(1.05);
    }

    .toast-container {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1055;
    }
</style>
{% endblock %}

{% block body %}
<!-- Toast Messages -->
<div class="toast-container">
  {% for label, messages in app.flashes %}
    {% for message in messages %}
      <div class="toast align-items-center text-white bg-{{ label == 'success' ? 'success' : 'danger' }} border-0 mb-2" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
          <div class="toast-body">
            {{ message }}
          </div>
          <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
      </div>
    {% endfor %}
  {% endfor %}
</div>

<div class="form-container">
  <div class="form-header">Ajouter un utilisateur</div>

  {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}

    <div class="form-group">
      <label for="{{ form.nom.vars.id }}">Nom</label>
      {{ form_widget(form.nom, {'attr': {'class': 'form-input', 'placeholder': 'Nom'}}) }}
      <div class="form-errors">{{ form_errors(form.nom) }}</div>
    </div>

    <div class="form-group">
      <label for="{{ form.prenom.vars.id }}">Prénom</label>
      {{ form_widget(form.prenom, {'attr': {'class': 'form-input', 'placeholder': 'Prénom'}}) }}
      <div class="form-errors">{{ form_errors(form.prenom) }}</div>
    </div>

    <div class="form-group">
      <label for="{{ form.email.vars.id }}">Email</label>
      {{ form_widget(form.email, {'attr': {'class': 'form-input', 'placeholder': 'Email'}}) }}
      <div class="form-errors">{{ form_errors(form.email) }}</div>
    </div>

    <div class="form-group">
      <label for="{{ form.mdp.vars.id }}">Mot de passe</label>
      {{ form_widget(form.mdp, {'attr': {'class': 'form-input', 'placeholder': 'Mot de passe'}}) }}
      <div class="form-errors">{{ form_errors(form.mdp) }}</div>
    </div>

    <div class="form-group">
      <label for="{{ form.tel.vars.id }}">Téléphone</label>
      {{ form_widget(form.tel, {'attr': {'class': 'form-input', 'placeholder': 'Téléphone'}}) }}
      <div class="form-errors">{{ form_errors(form.tel) }}</div>
    </div>

    <div class="form-group">
      <label for="{{ form.image.vars.id }}">Image</label>
      {{ form_widget(form.image, {'attr': {'class': 'form-input'}}) }}
      <div class="form-errors">{{ form_errors(form.image) }}</div>
    </div>

    {% if form.role is defined %}
      <div class="form-group">
        <label for="{{ form.role.vars.id }}">Rôle</label>
        {{ form_widget(form.role, {'attr': {'class': 'form-input'}}) }}
        <div class="form-errors">{{ form_errors(form.role) }}</div>
      </div>
    {% endif %}

    <div style="text-align: center; margin-top: 30px;">
  <button type="submit" class="form-button">Créer le compte</button>
  <a href="{{ path('user_list') }}" class="form-button" style="margin-left: 15px; text-decoration: none; display: inline-block; text-align: center;">Annuler</a>
</div>


  {{ form_end(form) }}
</div>
{% endblock %}
