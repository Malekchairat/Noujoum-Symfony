{% extends 'backoffice.html.twig' %}

{% block head %}
<!-- FontAwesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

    body {
        font-family: 'Poppins', sans-serif;
        background-color: #3a3a3a; /* Darker gray background for the page */
        margin: 0;
        padding: 0;
    }

    .profile-container {
        max-width: 700px;
        margin: 40px auto;
        padding: 30px;
        border-radius: 12px;
        background-color: #505050; /* Dark gray for the profile card */
        border: 2px solid #d4af37; /* Thinner gold border around the profile card */
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); /* Finer, shinier effect */
        transition: transform 0.3s ease-in-out; /* Smooth transition for movement */
    }

    .profile-container:hover {
    transform: translateY(-10px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4); /* Deeper shadow on hover */
    }


    .profile-header {
        text-align: center;
        margin-bottom: 20px;
    }

    .profile-image {
        width: 140px;
        height: 140px;
        object-fit: cover;
        border-radius: 50%;
        border: 2px solid #d4af37; /* Gold border around the image */
        margin-bottom: 15px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        transition: transform 0.3s ease-in-out;
    }
    .profile-image:hover {
    transform: scale(1.1); /* Subtle zoom effect on hover */
     }
    .profile-name {
        font-size: 24px;
        font-weight: 600;
        color: #f4f4f4; /* Light font color to contrast with the dark background */
    }

    .profile-role {
        display: inline-block;
        background-color: #d4af37; /* Gold */
        color: white;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 16px;
        margin-top: 10px;
    }

    .info-section {
        margin-top: 20px;
    }

    .info-section p {
        font-size: 16px;
        color: #ddd; /* Lighter text for readability */
        margin-bottom: 10px;
    }

    .address {
        color: #bbb;
        font-style: italic;
    }

    .btn {
        padding: 12px 25px;
        font-size: 16px;
        font-weight: 600;
        transition: all 0.3s ease;
        border-radius: 30px;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px; /* Space between icon and text */
        transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .btn-primary {
        background-color: #d4af37; /* Gold button */
        color: white;
        border-radius: 30px;
        border: 2px solid #d4af37; /* Gold border */
    }

    .btn-primary:hover {
        background-color: #f4d03f; /* Lighter gold on hover */
    }

    .btn-danger {
        background-color: #8e4b3b; /* Elegant maroon (muted red) for "Supprimer" button */
        color: white;
        border-radius: 30px;
        border: 2px solid #8e4b3b; /* Muted red border */
    }

    .btn-danger:hover {
        background-color: #a85c4b; /* Slightly lighter maroon on hover */
    }

    .btn:hover {
        transform: scale(1.05);
    }

    .actions {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 30px;
    }
    
</style>
{% endblock %}

{% block body %}
<div class="container profile-container">
    {% if error %}
        <div class="alert alert-danger text-center">{{ error }}</div>
    {% elseif user %}
        <div class="profile-header">
            {% if user.image %}
                <img src="{{ asset('uploads/' ~ user.image) }}" alt="Photo de profil" class="profile-image">
            {% else %}
                <img src="{{ asset('uploads/user.png') }}" alt="Photo de profil par défaut" class="profile-image">
            {% endif %}
            <div class="profile-name">{{ user.prenom }} {{ user.nom }}</div>
            <div class="profile-role">
                {% if 'ROLE_ADMIN' in user.roles %}
                    Admin
                {% elseif 'ROLE_USER' in user.roles %}
                    Fan
                {% elseif 'ROLE_ARTIST' in user.roles %}
                    Artiste
                {% else %}
                    Inconnu
                {% endif %}
            </div>
        </div>

        <div class="info-section">
            <p><strong>Email :</strong> {{ user.email }}</p>
            <p><strong>Téléphone :</strong> {{ user.tel }}</p>
            <p><strong>Adresse :</strong> Esprit bloc IJK</p> <!-- Default address -->
        </div>

        <div class="actions">
    <a href="{{ path('user_modifieradmin', {'id': user.idUser}) }}" class="btn btn-primary">
        <i class="fas fa-edit"></i> Modifier le compte
    </a>

    <form method="post" action="{{ path('user_delete_self') }}" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer votre compte ?');">
        <button type="submit" class="btn btn-danger">
            <i class="fas fa-user-slash"></i> Supprimer mon compte
        </button>
    </form>
</div>

    {% else %}
        <div class="text-center">Aucun utilisateur trouvé.</div>
    {% endif %}
</div>
{% endblock %}
