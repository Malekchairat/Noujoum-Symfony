<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Noujoum{% endblock %}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">
<style>
.small-dropdown {
    max-width: 300px !important;
    height: 38px !important;
    padding: 6px 12px !important;
    font-size: 14px !important;
}

.sort-dropdown {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 20px;
}

.sort-dropdown select {
  padding: 8px 12px;
  border: 2px solid #ccc;
  border-radius: 8px;
  background-color: white;
  font-size: 16px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.sort-dropdown select:hover {
  border-color: #999;
  box-shadow: 0 0 5px rgba(0,0,0,0.1);
}

.sort-dropdown select:focus {
  outline: none;
  border-color: #007BFF;
  box-shadow: 0 0 0 3px rgba(0,123,255,0.2);
}
.carousel-container {
  overflow: hidden;
  position: relative;
  width: 100%;
  max-width: 800px;
  margin: auto;
}

.carousel-track {
  display: flex;
  transition: transform 0.5s ease-in-out;
}

.carousel-item {
  min-width: calc(100% / 3); /* Show 3 items at a time */
  box-sizing: border-box;
  padding: 10px;
  border: 1px solid #ccc;
  margin: 5px;
  border-radius: 10px;
  background: #f9f9f9;
  text-align: center;
}

.carousel-controls {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 20px;
  margin-top: 10px;
}

.carousel-controls button {
  padding: 8px 12px;
  font-size: 18px;
  cursor: pointer;
}

.suggestions-container {
    position: absolute;
    width: 100%;
    max-height: 200px;
    overflow-y: auto;
    background-color: white;
    border: 1px solid #ddd;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    z-index: 1000;
}

.suggestion-item {
    padding: 8px;
    cursor: pointer;
}

.suggestion-item:hover {
    background-color: #f1f1f1;
}

.cart-row {
    position: relative;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.cart-row:hover {
    transform: translateY(-5px); /* Slightly lift the row */
    box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.1);
    z-index: 10;
}

.cart-image {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.cart-row:hover .cart-image {
    transform: scale(1.05); /* Slightly enlarge the image */
    box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.2); /* Enhance shadow on hover */
}



</style>

        <!-- Bootstrap CSS -->
        <link href="{{ asset('css/bootstrap.min.css') }}" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
        <link href="{{ asset('css/tiny-slider.css') }}" rel="stylesheet">
        <link href="{{ asset('css/style.css') }}" rel="stylesheet">

        {% block stylesheets %}
        {% endblock %}
    </head>
    <body>
        <!-- Start Header/Navigation -->
        <nav class="custom-navbar navbar navbar-expand-md navbar-dark bg-dark" arial-label="Furni navigation bar">
            <div class="container">
                <img src="{{ asset('images/njmlogo.jpg') }}" alt="Noujoum Logo" style="height: 40px; position: absolute; left: 20px;">
                <a class="navbar-brand" href="{{ path('app_homepage') }}">
                    Noujoum<span>.</span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsFurni" aria-controls="navbarsFurni" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarsFurni">
                    <ul class="custom-navbar-nav navbar-nav ms-auto mb-2 mb-md-0">
                        <li class="nav-item {{ home_active | default ('') }}">
                            <a class="nav-link" href="{{ path('app_homepage') }}">Home</a>
                        </li>
                        <li class="nav-item {{ shop_active | default ('') }}"><a class="nav-link" href="{{ path('shop') }}">Shop</a></li>
                        <li class="nav-item {{ about_active | default ('') }}"><a class="nav-link" href="{{ path('app_about_us') }}">About us</a></li>
                        <li class="nav-item {{ contact_active | default ('') }}"><a class="nav-link" href="{{ path('app_contact') }}">Contact us</a></li>
                    </ul>
                    <ul class="custom-navbar-cta navbar-nav mb-2 mb-md-0 ms-5">
                        <li><a class="nav-link" href="#"><img src="{{ asset('images/user.svg') }}"></a></li>
                        <li class="nav-item {{ cart_active | default ('') }}"><a class="nav-link" href="{{ path('cart') }}"><img src="{{ asset('images/cart.svg') }}"></a></li>
                        {% if is_granted('IS_AUTHENTICATED_FULLY') %}
    <a href="{{ path('app_logout') }}" class="btn btn-danger">Logout</a>
{% endif %}
                    </ul>
                </div>
            </div>
        </nav>
        <!-- End Header/Navigation -->

        {% block body %}{% endblock %}

        <!-- Floating Cart Icon -->
        <a href="{{ path('cart') }}" class="floating-cart-icon" id="floatingCart">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-badge" id="cartBadge">0</span>
            <div class="cart-preview">
                <div class="cart-preview-header">
                    <h6>Your Cart</h6>
                </div>
                <div class="cart-preview-body" id="cartPreviewBody">
                    <div class="empty-cart-message">
                        <i class="fas fa-shopping-cart"></i>
                        <p>Your cart is empty</p>
                    </div>
                </div>
                <div class="cart-preview-footer">
                    <span class="total-amount">Total: <span id="cartTotalAmount">0 €</span></span>
                </div>
            </div>
        </a>

                        <!-- Start Footer Section -->
		<footer class="footer-section">
			<div class="container relative">

				

				<div class="row">
					<div class="col-lg-8">
						<div class="subscription-form">
							<h3 class="d-flex align-items-center"><span class="me-1"></span><span>Subscribe to Newsletter</span></h3>

							<form action="#" class="row g-3">
								<div class="col-auto">
									<input type="text" class="form-control" placeholder="Enter your name">
								</div>
								<div class="col-auto">
									<input type="email" class="form-control" placeholder="Enter your email">
								</div>
								<div class="col-auto">
									<button class="btn btn-primary">
										<span class="fa fa-paper-plane"></span>
									</button>
								</div>
							</form>

						</div>
					</div>
				</div>

				<div class="row g-5 mb-5">
					<div class="col-lg-4">
						<div class="mb-4 footer-logo-wrap"><a href="#" class="footer-logo">Noujoum<span>.</span></a></div>
						<p class="mb-4">Noujoum is your ultimate destination for discovering and tracking concerts, fan meets, and exclusive merchandise from your favorite artists. Designed for passionate fans, our platform keeps you updated with the latest events, helping you connect with the music and experiences you love. Whether you're looking for tickets, limited-edition merchandise, or event details, Noujoum makes it easy to stay in tune with your favorite artists and never miss a moment.</p>

						<ul class="list-unstyled custom-social">
							<li><a href="#"><span class="fa fa-brands fa-facebook-f"></span></a></li>
							<li><a href="#"><span class="fa fa-brands fa-twitter"></span></a></li>
							<li><a href="#"><span class="fa fa-brands fa-instagram"></span></a></li>
							<li><a href="#"><span class="fa fa-brands fa-linkedin"></span></a></li>
						</ul>
					</div>

					<div class="col-lg-8">
						<div class="row links-wrap">
							<div class="col-6 col-sm-6 col-md-3">
								<ul class="list-unstyled">
									<li><a href="#">About us</a></li>
									<li><a href="#">Services</a></li>
									<li><a href="#">Blog</a></li>
									<li><a href="#">Contact us</a></li>
								</ul>
							</div>

							<div class="col-6 col-sm-6 col-md-3">
								<ul class="list-unstyled">
									<li><a href="#">Support</a></li>
									<li><a href="#">Knowledge base</a></li>
									<li><a href="#">Live chat</a></li>
								</ul>
							</div>

							<div class="col-6 col-sm-6 col-md-3">
								<ul class="list-unstyled">
									<li><a href="#">Jobs</a></li>
									<li><a href="#">Our team</a></li>
									<li><a href="#">Leadership</a></li>
									<li><a href="#">Privacy Policy</a></li>
								</ul>
							</div>

							
						</div>
					</div>

				</div>

				<div class="border-top copyright">
					<div class="row pt-4">
						<div class="col-lg-6">
							<p class="mb-2 text-center text-lg-start">Copyright &copy;<script>document.write(new Date().getFullYear());</script>. All Rights Reserved. &mdash; Designed with love by <a href="https://untree.co">Untree.co</a> Distributed By <a hreff="https://themewagon.com">ThemeWagon</a>  <!-- License information: https://untree.co/license/ -->
            </p>
						</div>

						<div class="col-lg-6 text-center text-lg-end">
							<ul class="list-unstyled d-inline-flex ms-auto">
								<li class="me-4"><a href="#">Terms &amp; Conditions</a></li>
								<li><a href="#">Privacy Policy</a></li>
							</ul>
						</div>

					</div>
				</div>

			</div>
		</footer>
	
        <!-- End Footer Section -->
{% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
        <script>
        document.addEventListener('DOMContentLoaded', function() {
            updateCartCount();
            document.addEventListener('cartUpdated', function() {
                updateCartCount();
                loadCartPreview();
            });
            function updateCartCount() {
                fetch('/cart/count')
                    .then(response => response.json())
                    .then(data => {
                        const badge = document.getElementById('cartBadge');
                        badge.textContent = data.count;
                        badge.style.display = data.count > 0 ? 'flex' : 'none';
                    });
            }
            function loadCartPreview() {
                fetch('/cart/preview')
                    .then(response => response.json())
                    .then(data => {
                        const container = document.getElementById('cartPreviewBody');
                        const totalAmount = document.getElementById('cartTotalAmount');
                        totalAmount.textContent = `${data.total} €`;
                        if (data.items.length > 0) {
                            let html = '';
                            data.items.forEach(item => {
                                html += `
                                    <div class="cart-item">
                                        <div class="cart-item-img">
                                            <img src="${item.image ? '{{ asset("' + item.image + '") }}' : '{{ asset("images/default.png") }}'}" alt="${item.name}">
                                        </div>
                                        <div class="cart-item-details">
                                            <h6 class="cart-item-title">${item.name}</h6>
                                            <p class="cart-item-price">${item.quantity} × ${item.price} €</p>
                                        </div>
                                    </div>
                                `;
                            });
                            container.innerHTML = html;
                        } else {
                            container.innerHTML = `
                                <div class="empty-cart-message">
                                    <i class="fas fa-shopping-cart"></i>
                                    <p>Your cart is empty</p>
                                </div>
                            `;
                        }
                    });
            }
            const cartIcon = document.getElementById('floatingCart');
            let previewLoaded = false;
            cartIcon.addEventListener('mouseenter', function() {
                if (!previewLoaded) {
                    loadCartPreview();
                    previewLoaded = true;
                }
            });
        });
        </script>
        {% endblock %}
    </body>
</html>
