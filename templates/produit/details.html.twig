{% extends 'base.html.twig' %}

{% block title %}{{ produit.nom }} - D√©tails{% endblock %}

{% block body %}
<div class="container mt-4 bg-dark text-light p-4 rounded">
    <div class="row">
        <div class="col-md-6">
            <img src="{{ asset('uploads/' ~ produit.imageName) }}" alt="{{ produit.nom }}" class="img-fluid mb-3 rounded">
        </div>
        <div class="col-md-6">
            <h2>
                {{ produit.nom }}
                <!-- üíñ Heart form button -->
                <form method="post" action="{{ path('add_to_favoris', { id: produit.id }) }}" class="d-inline">
                    <button type="submit" class="btn btn-link p-0 border-0" title="Ajouter aux favoris">
                        <i class="fa{{ favoris ? 's' : 'r' }} fa-heart text-danger fs-4"></i>
                        {# 'fas' = filled heart, 'far' = empty heart #}
                    </button>
                </form>
            </h2>

            <p><strong>Cat√©gorie :</strong> {{ produit.categorie }}</p>
            <p><strong>Description :</strong> {{ produit.description }}</p>

            {% if produit.getPrixPromo() %}
                <p><del>{{ produit.prix }}‚Ç¨</del> <strong class="text-danger">{{ produit.getPrixPromo() }}‚Ç¨</strong></p>
                {% if promo %}
                    <span class="badge bg-danger">-{{ promo.pourcentage }}% jusqu'au {{ promo.expiration|date('d/m/Y') }}</span>
                {% endif %}
            {% else %}
                <p><strong>{{ produit.prix }}‚Ç¨</strong></p>
            {% endif %}

            {% if produit.disponibilite < 5 %}
                <p class="text-warning">‚ö†Ô∏è Plus que {{ produit.disponibilite }} en stock !</p>
            {% else %}
                <p class="text-success">En stock : {{ produit.disponibilite }}</p>
            {% endif %}

            <a href="#" class="btn btn-success mt-3">Acheter</a>
        </div>
    </div>
</div>
{% endblock %}
